---
layout: demo
title: Demo page
---
<h1>Widgets</h1>

<h2 id="measuredunit">Measured Unit</h2>

<script src="https://raw.github.com/ilizunov/SiberianEhr/master/js/templates/measuredunit-tmpl.js"></script>
<script src="https://raw.github.com/ilizunov/SiberianEhr/master/js/measuredunit.js"></script>
<script type="text/javascript">
    $(function(){
        $('#measured-input1').measuredUnit({
            AssumedValue: { Value: 36.6, Unit: 'C' },  // assumed value - the value set to the control if user has not touched it
            /** Array of possible measurement units
             *  Unit structure - object. Key is measure
             *  {
             *      minValue: undefined,    // minimal value
             *      maxValue: undefined,    // maximal value
             *      //
             *      // Precision, in terms of number of decimal places
             *      // Value  0 implies integer value
             *      // Value -1 implies no rounding, the value is stored as is
             *      //
             *      precision: -1
             *  }*/
            Units: {
                'C' : {
                    precision: 1,
                    minValue: 35,
                    maxValue: 42
                },
                'F' : {
                    precision: 1,
                    minValue: 95,
                    maxValue: 107.6
                }
            },
            PropertyName : 'temperature', // Name of the measured property, e.g. "temperature"
            /**
             * Sample measure unit converter to be exposed in measuredUnit widget
             *
             * @param property  {string}    Measured property name. This is the first part of the key to find a rule
             *                              of conversion.
             *                              When called a real function we should pass this.get('propertyName')
             * @param fromUnit  {string}    Current measure unit name. This is the second part of the key.
             * @param toUnit    {string}    New measure unit name. This is the last part of key.
             *
             * @return {function} Value, measured in new units
             */
            getValueConverter: function (property, fromUnit, toUnit){
                switch(property){
                    case 'temperature':
                        if (fromUnit === 'C'  && toUnit === 'F'){
                            return function (value) {
                                return (value * 9 / 5 + 32);
                            };
                        }
                        if (fromUnit === 'F'  && toUnit === 'C'){
                            return function (value) {
                                return ((value - 32) * 5 / 9);
                            }
                        }
                }
            }
		});
        $('#measured-input2').measuredUnit({
            DefaultValue: {
                Value: 0,
                Unit: 'mm Hg'
            },
            Required : false,
            Units: {
                'mm Hg' : {
                    precision: 0
                },
                'Pa' : {
                    precision: 1
                }
            },
            PropertyName : 'pressure',
            getValueConverter: function (property, fromUnit, toUnit){
                switch(property){
                    case 'pressure':
                        if (fromUnit === 'mm Hg'  && toUnit === 'Pa'){
                            return function (value) {
                                return (value * 51.715);
                            };
                        }
                        if (fromUnit === 'Pa'  && toUnit === 'mm Hg'){
                            return function (value) {
                                return (value / 51.715);
                            }
                        }
                }
            }
        });
        $('#measured-input3').measuredUnit({
            DefaultValue: {
                Value: 160,
                Unit: 'cm'
            },
            Required : true,
            PropertyName : 'height'
        });
        $('#measured-input4').measuredUnit({
            AssumedValue: {
                Value: 160,
                Unit: 'cm'
            },
            Units: {'cm':{}},
            Required : true,
            PropertyName : 'height'
        });
    });
</script>
<table>
    <tr>
        <td>
            <h4>Human's body temperature</h4>
            <div id="measured-input1"></div>
            <span class="help-block">Assumed value is 36.6 degrees centigrade. <br/>
                No default value passed. <br/> Min/max constraints applied if some value is specified.
            </span>
        </td>
        <td>
            {% highlight javascript %}
$('#measured-input1').measuredUnit({
    AssumedValue: { Value: 36.6, Unit: 'C' },  // assumed value - the value set to the control if user has not touched it
    Units: {
        'C' : {
            precision: 1,
            minValue: 35,
            maxValue: 42
        },
        'F' : {
            precision: 1,
            minValue: 95,
            maxValue: 107.6
        }
    },
    PropertyName : 'temperature', // Name of the measured property, e.g. "temperature"
    getValueConverter: function (property, fromUnit, toUnit){
        switch(property){
            case 'temperature':
                if (fromUnit === 'C'  && toUnit === 'F'){
                    return function (value) {
                        return (value * 9 / 5 + 32);
                    };
                }
                if (fromUnit === 'F'  && toUnit === 'C'){
                    return function (value) {
                        return ((value - 32) * 5 / 9);
                    }
                }
        }
    }
});
            {% endhighlight %}
        </td>
    </tr>
    <tr>
        <td>
            <h4>Pressure</h4>
            <div id="measured-input2"></div>
            <span class="help-block">no constraints</span>
        </td>
        <td>
            {% highlight javascript %}
$('#measured-input2').measuredUnit({
    DefaultValue: {
        Value: 0,
        Unit: 'mm Hg'
    },
    Required : false,
    Units: {
        'mm Hg' : {
            precision: 0
        },
        'Pa' : {
            precision: 1
        }
    },
    PropertyName : 'pressure',
    getValueConverter: function (property, fromUnit, toUnit){
        switch(property){
            case 'pressure':
                if (fromUnit === 'mm Hg'  && toUnit === 'Pa'){
                    return function (value) {
                        return (value * 51.715);
                    };
                }
                if (fromUnit === 'Pa'  && toUnit === 'mm Hg'){
                    return function (value) {
                        return (value / 51.715);
                    }
                }
        }
    }
});
            {% endhighlight %}
        </td>
    </tr>
    <tr>
        <td>
            <h4>Height</h4>
            <div id="measured-input3"></div><span class="help-block">Required constraint. Only default value is set.</span>
        </td>
        <td>
            {% highlight javascript %}
$('#measured-input3').measuredUnit({
    DefaultValue: {
        Value: 160,
        Unit: 'cm'
    },
    Required : true,
    PropertyName : 'height'
});
            {% endhighlight %}
        </td>
    </tr>
    <tr>
    <tr>
        <td>
            <h4>Height</h4>
            <div id="measured-input4"></div><span class="help-block">Required constraint. Only default value is set
            .</span>
        </td>
        <td>
            {% highlight javascript %}
$('#measured-input4').measuredUnit({
    AssumedValue: {
        Value: 160,
        Unit: 'cm'
    },
    Units: {'cm':{}},
    Required : true,
    PropertyName : 'height'
});
            {% endhighlight %}
        </td>
    </tr>


</table>

<h2 id="datetimepicker">Datetime picker</h2>

<script src="https://raw.github.com/ilizunov/SiberianEhr/master/js/vendor/moment.js"></script>
<script src="https://raw.github.com/ilizunov/SiberianEhr/master/js/vendor/bootstrap-datepicker.js"></script>
<script src="https://raw.github.com/ilizunov/SiberianEhr/master/js/vendor/bootstrap-timepicker.js"></script>
<script src="https://raw.github.com/ilizunov/SiberianEhr/master/js/templates/datetimepicker-tmpl.js"></script>
<script src="https://raw.github.com/ilizunov/SiberianEhr/master/js/datetimepicker.js"></script>
<script type="text/javascript">
    $(function(){
        $('#datetime-picker0').dateTimePicker({
            format: 'YYYY-XX-XXTXX:XX:XX',
            localDateFormat: 'DD-MM-YYYY',
            Magnitude: 63494389149.55
        });
        $('#datetime-picker1').dateTimePicker({
            format: 'YYYY-??-XXTXX:XX:XX',
            localDateFormat: 'DD-MM-YYYY',
            Magnitude: 63494389149.55
        });
        $('#datetime-picker2').dateTimePicker({
            format: 'YYYY-MM-??TXX:XX:XX',
            localDateFormat: 'DD-MM-YYYY',
            Magnitude: 63494389149.55
        });
        $('#datetime-picker3').dateTimePicker({
            format: 'YYYY-MM-DDTXX:XX:XX',
            Value: '2013-01-21'
        });
		$('#datetime-picker4').dateTimePicker({
            format: 'XXXX-XX-XXTHH:XX:XX',
            Value: '2013-01-21T18:05:12'
        });
        $('#datetime-picker5').dateTimePicker({
            format: 'XXXX-XX-XXTHH:MM:SS.sss',
            Value: '0001-01-01T01:23:45.678'
        });
    });
</script>

<table>
    <tr>
        <td>
            <h4>Year Picker</h4>
            <div id="datetime-picker0"></div>
            <span class="help-inline">format: <strong>YYYY-XX-XX</strong></span>
        </td>
        <td>
            {% highlight javascript %}
$('#datetime-picker0').dateTimePicker({
    format: 'YYYY-XX-XXTXX:XX:XX',
    localDateFormat: 'DD-MM-YYYY',
    Magnitude: 63494389149.55
});
            {% endhighlight %}
        </td>
    </tr>
    <tr>
        <td>
            <h4>Month Picker</h4>
            <div id="datetime-picker1"></div>
            <span class="help-inline">format: <strong>YYYY-??-XX</strong></span>
        </td>
        <td>
            {% highlight javascript %}
$('#datetime-picker1').dateTimePicker({
    format: 'YYYY-??-XXTXX:XX:XX',
    localDateFormat: 'DD-MM-YYYY',
    Magnitude: 63494389149.55
});
            {% endhighlight %}
        </td>
    </tr>
    <tr>
        <td>
            <h4>Day Picker</h4>
            <div id="datetime-picker2"></div>
            <span class="help-inline">format: <strong>YYYY-MM-??, month is required</strong></span>
        </td>
        <td>
            {% highlight javascript %}
$('#datetime-picker2').dateTimePicker({
    format: 'YYYY-MM-??TXX:XX:XX',
    localDateFormat: 'DD-MM-YYYY',
    Magnitude: 63494389149.55
});
            {% endhighlight %}
        </td>
    </tr>
    <tr>
        <td>
            <h4>Day Picker</h4>
            <div id="datetime-picker3"></div>
            <span class="help-inline">format: <strong>YYYY-MM-DD, day and month are required</strong></span>
        </td>
        <td>
            {% highlight javascript %}
$('#datetime-picker3').dateTimePicker({
    format: 'YYYY-MM-DDTXX:XX:XX',
    Value: '2013-01-21'
});
            {% endhighlight %}
        </td>
    </tr>
	<tr>
		<td>
			<h4>Hour Picker</h4>
			<div id="datetime-picker4"></div>
			<span class="help-inline">format: <strong>HH:XX:XX</strong> hour is required</span>
		</td>
		<td>
			{% highlight javascript %}
$('#datetime-picker4').dateTimePicker({
	format: 'XXXX-XX-XXTHH:XX:XX',
	Value: '2013-01-21T18:05:12'
});
			{% endhighlight %}
		</td>
	</tr>
	<tr>
		<td>
			<h4>Hour-Minute-Second Picker</h4>
			<div id="datetime-picker5"></div>
			<span class="help-inline">format: <strong>HH:MM:SS.sss</strong> everything is required</span>
		</td>
		<td>
			{% highlight javascript %}
$('#datetime-picker5').dateTimePicker({
	format: 'XXXX-XX-XXTHH:MM:SS.sss',
	Value: '0001-01-01T01:23:45.678'
});
			{% endhighlight %}
		</td>
	</tr>
</table>

<h2 id="datetimepicker">Coded text</h2>

<script src="https://raw.github.com/ilizunov/SiberianEhr/master/js/vendor/select2.js"></script>
<script src="https://raw.github.com/ilizunov/SiberianEhr/master/js/templates/codedtext-tmpl.js"></script>
<script src="https://raw.github.com/ilizunov/SiberianEhr/master/js/codedtext.js"></script>
<script type="text/javascript">
    $(function(){
        $('#coded-text-1').codedText(
            {
                Dictionary: [{text:'Item1',id:'Value1'},
                             {text:'Item2',id:'Value2'},
                             {text:'Item3',id:'Value3'}],
                Value: 'Value2',
                AssumedValue: 'Value3',
                Required: false
            }
        );
        $('#coded-text-2').codedText(
            {
                Dictionary: [{text:'Item1',id:'Value1'},
                    {text:'Item2',id:'Value2'},
                    {text:'Item3',id:'Value3'},
                    {text:'Item4',id:'Value4'}],
                AssumedValue: 'Value3',
                Required: true
            }
        );
    });
</script>

<table>
    <tr>
        <td>
            <h4>Coded text exapmle</h4>
            <div id="coded-text-1"></div>
            <span class="help-inline">Value selected, required - false</span>
        </td>
        <td>
{% highlight javascript %}
$('#coded-text-1').codedText({
        Dictionary: [{text:'Item1',id:'Value1'},
                     {text:'Item2',id:'Value2'},
                     {text:'Item3',id:'Value3'}],
        Value: 'Value2',
        AssumedValue: 'Value3',
        Required: false
});
{% endhighlight %}
        </td>
    </tr>
	<tr>
		<td><h4>Coded text exapmle</h4>
            <div id="coded-text-1"></div>
            <span class="help-inline">No value selected, required - true</span>
		</td>
		<td>
{% highlight javascript %}
$('#coded-text-2').codedText({
        Dictionary: [{text:'Item1',id:'Value1'},
            {text:'Item2',id:'Value2'},
            {text:'Item3',id:'Value3'},
            {text:'Item4',id:'Value4'}],
        AssumedValue: 'Value3',
        Required: true
});
{% endhighlight %}
		</td>
	</tr>
</table>